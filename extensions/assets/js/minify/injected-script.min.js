"use strict";var WP_ENUMS={ROOM_ID:"wid"},watchParty={init:function(){0===document.querySelectorAll(".watch-party").length&&watchParty.createParty()},createParty:function(){var t=document.createElement("div"),a=(t.id="watch-party",t.className="watch-party",watchParty.getRoomId()),a="https://watch-party-chat-ui.vercel.app?".concat(WP_ENUMS.ROOM_ID,"=").concat(a),a=(t.innerHTML='<iframe style="display: block;" id="wpChatFrame" allow="autoplay; clipboard-read; clipboard-write; payment; camera; microphone;" src="'.concat(a,'"></iframe>'),document.querySelector("[data-uia=watch-video]"));a?(a.appendChild(t),a.classList.add("wp-active"),watchParty.injectScript("assets/js/minify/player-control.min.js")):document.body.appendChild(t)},injectScript:function(t){var a=document.createElement("script");a.src=chrome.runtime.getURL(t),a.onload=function(){console.log("Injected Watch Party Scripts")},document.head.appendChild(a)},generateUUID:function(){for(var t,a="",e=0;e<16;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(a+="-"),a+=(12===e?4:16===e?3&t|8:t).toString(16);return a},getRoomId:function(){var t=new URLSearchParams(window.location.search).get(WP_ENUMS.ROOM_ID);return t||(t=watchParty.generateUUID(),watchParty.addQuery(t),t)},addQuery:function(t){var a=new URL(window.location.href);a.searchParams.set(WP_ENUMS.ROOM_ID,t),window.history.replaceState(null,null,a)}};watchParty.init();