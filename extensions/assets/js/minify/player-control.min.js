"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}window.addEventListener("message",function(e){e.source===window&&e.data&&"watchplayer"===e.data.type&&watchPlayer.seekInteraction(e.data.activity,e.data.video.duration)});var watchPlayer=_defineProperty({getReactInternals:function(e){if(null==e)return null;for(var t=Object.keys(e),r=null,a=0;a<t.length;a++)if(t[a].startsWith("__reactInternalInstance")){r=t[a];break}return r?e[r]:null},getVideoPlayer:function(){var e=window.netflix.appContext.state.playerApp.getAPI().videoPlayer,t=e.getAllPlayerSessionIds().find(function(e){return e.includes("watch")});return e.getVideoPlayerBySessionId(t)},getWrapperStateNode:function(){var e=document.querySelector(".watch-video");if(e){e=watchPlayer.getReactInternals(e);if(e)return e.return.return.return.return.return.stateNode}return null},isMovie:function(){try{var e=watchPlayer.getWrapperStateNode();return!!e&&"movie"===e.state.playableData.summary.type}catch(e){return!1}},tryDisablePostPlay:function(){var e;watchPlayer.isMovie()&&(e=watchPlayer.getWrapperStateNode())&&(window.oldHasPostPlay=e.hasPostPlay,e.hasPostPlay=function(){return!1},console.log("DISABLED POST PLAY FOR MOVIE"))},seekInteraction:function(t,r){try{if("SEEK"===t)r>=watchPlayer.getVideoPlayer().getDuration()?(watchPlayer.getVideoPlayer().pause(),watchPlayer.getVideoPlayer().seek(watchPlayer.getVideoPlayer().getDuration()-100)):watchPlayer.getVideoPlayer().seek(String(r).replace(".",""));else if("PAUSE"===t)watchPlayer.getVideoPlayer().pause();else if("FIX_POST_PLAY"===t)watchPlayer.tryDisablePostPlay();else if("PLAY"===t)watchPlayer.isMovie(),watchPlayer.getVideoPlayer().play();else if("GetCurrentTime"===t){var a=watchPlayer.getVideoPlayer().getCurrentTime(),o=new CustomEvent("FromNode",{detail:{type:"CurrentTime",time:a,updatedAt:Date.now()}});window.dispatchEvent(o)}else if("NEXT_EPISODE"===t)try{watchPlayer.changeEpisodeFallback(e.data.videoId)}catch(e){console.log("Caught Error in React Next Episode "+e)}}catch(e){console.log(e)}}},"isMovie",function(){try{var e=watchPlayer.getWrapperStateNode();return!!e&&"movie"===e.state.playableData.summary.type}catch(e){return!1}});window.watchPlayer=watchPlayer;